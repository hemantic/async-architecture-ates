# Домашнее задание недели 1

## Общие пояснения

Сслыка на урок и текст ДЗ: https://f213.notion.site/1-4-e4e0c4d4a0c847ea9158a0950d1ea596
Ссылка на ТЗ для системы: https://f213.notion.site/14ccbfaca5ae4844a44dfffed1173b6c

Отправной точкой стало выполнение Event Storming. В процессе начал появляться общий словарь терминов, зафиксировал его на доске https://miro.com/app/board/o9J_lmyjgP8=/?moveToWidget=3074457366722790280&cot=14. Достаточно быстро выяснилось, что требования из ТЗ для домашки плохо накладываются на процесс ES, потому что значитальная часть требований относится к методикам расчета и интерфейсам, а не событиям в системе. Поэтому проектирование велось из общей логики работы таких систем. Достаточно быстро стало понятно, что аккаунтинг нужно выделять в отдельный домен из-за большого количества специфичных для него определений (хотя с точки зрения процесса работы он сильно завязан на таск трекер).

## Задача 1

> Разобрать каждое требование на составляющие (актор, команда, событие, query). Определить, как все бизнес цепочки будут выглядеть и на какие шаги они будут разбиваться.

Требования разбиты на цепочки по методологии Event Storming. Результаты находятся в доске Miro: https://miro.com/app/board/o9J_lmyjgP8=/?moveToWidget=3074457366722121098&cot=14

## Задача 2

> Построить модель данных для системы и модель доменов. Рисовать можно в любом удобном инструменте (включая обычную бумагу), главное, чтобы это было не только у вас в голове, но и где-то вовне. Благодаря этому вы сможете сфокусироваться на отдельной части системы, не думая о других. А также показать свое решение одногрупникам/коллегам.

Высокоуровневое описание модели данных с взаимосвязями находится в доске Miro: https://miro.com/app/board/o9J_lmyjgP8=/?moveToWidget=3074457366722903490&cot=14


## Задача 3

> Определить, какие общие данные нужны для разных доменов и как связаны данные между разными доменами.

Взаимосвязи между доменами и процесс обмена данными описан в доске Miro: https://miro.com/app/board/o9J_lmyjgP8=/?moveToWidget=3074457366722903490&cot=14

Общие данные – авторизационная информация.

Остальные данные можно посылать вместе с payload событий, потому что фиксироваться они должны на момент возникновения события.

## Задача 4

> Разобраться, какие сервисы, кроме тудушника, будут в нашей системе и какие между ними могут быть связи (как синхронные, так и асинхронные).

Набор сервисов соответствует набору доменом (1 сервис – 1 домен) и представляет собой следующий набор:

* Auth service –> домен авторизации и управления пользователями
* Task tracker service –> домен управления задачами
* Accounting service –> домен аккаунтинга
* Analytics servic –> домен аналитики

Взаимосвязи между сервисами показаны на доске https://miro.com/app/board/o9J_lmyjgP8=/?moveToWidget=3074457366724638819&cot=14. Синхронная связь только одна – получение авторизационной информации из сервиса авторизации другими сервисами. Остальные связи асинхронные, на основе событий, проходящих через брокер событий.

## Задача 5

> Определить все бизнес события, необходимые для работы системы. Отобразить кто из сервисов является продьюсером, а кто консьюмером бизнес событий.

Список всех бизнес событий отображен на доске https://miro.com/app/board/o9J_lmyjgP8=/?moveToWidget=3074457366724545523&cot=14. Бизнес события помечены желтыми карточками. По большей части события потребляются сервисами внутри самих себя, связей между разными сервисами сравнительно не много.

## Задача 6

> Выписать все CUD события и какие данные нужны для этих событий, которые необходимы для работы системы. Отобразить кто из сервисов является продьюсером, а кто консьюмером CUD событий.

Список всех бизнес событий отображен на доске https://miro.com/app/board/o9J_lmyjgP8=/?moveToWidget=3074457366724545523&cot=14. CUD события помечены оранжевыми карточками. По большей части события потребляются сервисами внутри самих себя, связей между разными сервисами сравнительно не много.


