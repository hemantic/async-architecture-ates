# Домашнее задание недели 2

## Общие пояснения

Сслыка на урок и текст ДЗ: https://f213.notion.site/2-4-01f02df99ee44389bcd33c5be219355c
Ссылка на ТЗ для системы: https://f213.notion.site/14ccbfaca5ae4844a44dfffed1173b6c

Решил развернуть все сервисы сразу про запас и настроить к ним общий docker compose. Не заморачивался с REST API + SPA, сделал все на обычных вьюхах без DRF. С бутстрапом сервисов проблем не возникло.

## Задача 1

> выбрать логику аунтификации в системе. Можно использовать любой из способов аунтификации, Антон советует попробовать oAuth, а Федя — JWT HTTP API интерфейс.

Так как с JWT работаю каждый божий день, решил для разнообразия поднять oAuth. Проклял все на свете. Сервером выступает `django-oauth-toolkit`, в качестве клиента взял `social-auth-app-django`, кто вообще придумал его господи. Провозился пытаясь их подружить весь день, к моменту сдачи домашки не преуспел. Для social auth нужно было писать свой бекенд в случае с собственным oAuth2 сервером, может в этом вся проблема.

## Задача 2

> выбрать message broker и развернуть его локально

Kafka c Zookeeper вроде бы заработала по стандартным конфигам, но детально я не проверял.

## Задача 3

> написать сервис авторизации. Можно написать его с нуля самому, а можно взять готовый из гитхаб-репозитория с примером inventory-системы. 

Сервис авторизации вполне успешно работает на `django-oauth-toolkit`, нормально проводится flow авторизации из Postman

## Задача 4

> Реализовать логику таск-трекера

Логику реализовал на основе сервисов (а-ля pure functions, но я слишком ленивый и DI к ним не прикручивал). Это позволило не размазывать ровным слоем события и манипуляции данными между контроллерами и моделями, а весь бизнес процесс представлять одним файлом. Главное не разлениться и начать пихать бизнес логику куда ни попадя. Интерфейсы и прочий клей для системы пока что TBD.

## Задача 5

> Связать сервис авторизации и логику таск трекера, а так же реализовать все события которые должны быть отправлены и прочитаны в каждом из двух сервисов

TBD

## Задача 6

> Отправить первое событие в систему и прочитать его в другом сервисе

TBD